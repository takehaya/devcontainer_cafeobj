# 演習問題

1. 各スライドに示されたプログラムを個別のファイルとして入力し、CafeOBJに読み込んでテストを行いなさい。CafeOBJプログラムが書かれたファイル名の拡張子は `.cafe` であることに注意してください（例: `fact.cafe`）。

2. `fact(5)` がどのように計算されるかを説明しなさい。

3. `oedc-fact(5)` がどのように計算されるかを説明しなさい。

4. ある数 `n` に対して `0 + 1 + 2 + … + n` を計算するプログラムを2種類作成しなさい。一つは `fact` に対応するもので、もう一つは `oedc-fact` に対応するものです。それぞれのバージョンでテストを行いなさい。

5. 以下のようなフィボナッチ計算に対応するプログラムをCafeOBJで作成し、テストを行いなさい。

   ```
   ext-fib(n) =
   0                if n = 0
   1                if n = 1
   2                if n = 2
   ext-fib(n-1) + ext-fib(n-2) + ext-fib(n-3)  otherwise
   ```

   なお、`sd` を使ってはいけません。`sd` と同様の機能を持つユーザー定義関数を使用してもいけません。また、`p t` を使用する際には `t` の最小ソートが `NzNat` であることを明示的に保証しなければなりません。ヒント: フィボナッチプログラムで自然数を0、1、2以上に分けるのに使用された部分関数が参考になるでしょう。ここでは2つの部分関数を使って、自然数を0、1、2、3以上に分けるようにします。

6. フィボナッチ計算を行うプログラムを改良し、`fact` の代わりに次の後置演算子を使用するようにしなさい：

   ```
   op _! : Nat -> Nat .
   ```

7. 奇数・偶数の分割統治ファクタリアル関数を定義するプログラムを改良し、`oedc-fact` および `cond` の代わりに次の後置演算子と混合演算子を使用しなさい：

   ```
   op _! : Nat -> Nat .
   op if_then {_} else {_} : Bool Nat Nat -> Nat .
   ```

8. アッカーマン関数を小さな自然数で計算する場合（例えば、`ack(5,5)` や `ack(10,10)`）に時間がかかる理由を調査しなさい。

9. タケウチ関数の定義を調べ、それをCafeOBJで記述し、いくつかの自然数で実行しなさい。タケウチ関数を小さな自然数で計算する場合に時間がかかる理由を調査しなさい。

10. 講義ノートにあるプログラムを他の関数型プログラミング言語（例：Standard ML）で作成し、その処理系（例：SML#）で実行しなさい。
